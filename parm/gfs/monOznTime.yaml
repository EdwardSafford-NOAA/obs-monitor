#
# Time series plots for OznMon gfs
#
# Generate separate 30 day time/series plots for:
#   - number of obs 
#   - penalty
#   - omgnbc
#   - bias correction
#   - omgbc

diagnostics:

# Data read
# ---------
datasets:
  - name: time
    satellite: npp
    sensor: ompsnp
    type: MonDataSpace
    control_file:
      - ../data/ozn_data/time/ompsnp_npp.ges.ctl
    filenames:
      - ../data/ozn_data/time/ompsnp_npp.ges.2023082118.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023082112.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023082106.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023082100.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023082018.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023082012.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023082006.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023082000.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081918.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081912.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081906.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081900.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081818.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081812.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081806.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081800.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081718.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081712.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081706.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081700.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081618.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081612.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081606.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081600.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081518.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081512.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081506.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081500.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081418.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081412.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081406.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081400.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081318.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081312.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081306.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081300.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081218.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081212.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081206.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081200.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081118.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081112.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081106.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081100.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081018.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081012.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081006.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023081000.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080918.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080912.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080906.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080900.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080818.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080812.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080806.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080800.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080718.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080712.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080706.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080700.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080618.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080612.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080606.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080600.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080518.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080512.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080506.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080500.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080418.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080412.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080406.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080400.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080318.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080312.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080306.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080300.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080218.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080212.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080206.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080200.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080118.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080112.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080106.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023080100.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023073118.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023073112.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023073106.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023073100.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023073018.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023073012.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023073006.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023073000.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023072918.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023072912.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023072906.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023072900.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023072818.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023072812.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023072806.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023072800.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023072718.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023072712.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023072706.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023072700.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023072618.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023072612.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023072606.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023072600.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023072518.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023072512.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023072506.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023072500.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023072418.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023072412.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023072406.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023072400.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023072318.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023072312.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023072306.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023072300.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023072218.ieee_d
      - ../data/ozn_data/time/ompsnp_npp.ges.2023072212.ieee_d

    levels: &levels 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22
    regions: &regions 1
    groups:
      - name: GsiIeee
        variables: &variables ['cnt', 'cpen', 'sdvomg', 'avgomg']

graphics:

  plotting_backend: Emcpy
  figure_list:

    # Obs count plots
    # ---------------
    - batch figure:
        levels: *levels
        variables: ['cnt', 'cpen']
        sensor: ompsnp

      figure:
        layout: [1,1]
        figure size: [20,18]
        tight layout:
        title: "${variable}, ompsnp_npp level ${level}  \n Valid: 2023082118"
        output name: lineplots/ompsnp_npp/time/ompsnp_npp.${level}.${variable}.png
        plot logo:
          which: 'noaa/nws'
          loc: 'upper right'

      plots:
        - add_xlabel: 'Cycle'
          add_ylabel: '${variable}'
          layers:
          - type: LinePlot
            x:
              variable: time::GsiIeee::cycle
            y:
              variable: time::GsiIeee::${variable}
            color: 'blue'
            level: ${level}
          add_grid:
            axis: 'both'
            linestyle: 'dotted'
            linewidth: 0.25
            color: 'black'


    # All defined variables
    # ---------------------
    - batch figure:
        variables: ['sdvomg']
        levels: *levels

      figure:
        layout: [2,1]
        figure size: [20,18]
        tight layout:
        title: "obs-ges ompsnp_npp level ${level}  \n Valid: 2023082118"
        output name: lineplots/ompsnp_npp/time/ompsnp_npp.${level}.omg.png
        plot logo:
          which: 'noaa/nws'
          loc: 'upper right'

      plots:
        - add_xlabel: 'Cycle'
          add_ylabel: "Standard Deviation"
          layers:
          - type: LinePlot
            x:
              variable: time::GsiIeee::cycle
            y:
              variable: time::GsiIeee::${variable}
            color: 'red'
            level: ${level}
          add_grid:
            axis: 'both'
            linestyle: 'dotted'
            linewidth: 0.25
            color: 'black'

        - add_xlabel: 'Cycle'
          add_ylabel: "Average"
          layers:
          - type: LinePlot
            x:
              variable: time::GsiIeee::cycle
            y:
              variable: time::GsiIeee::avgomg
            color: 'blue'
            level: ${level}
          add_grid:
            axis: 'both'
            linestyle: 'dotted'
            linewidth: 0.25
            color: 'black'
